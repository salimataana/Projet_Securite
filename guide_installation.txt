# ğŸ” GUIDE COMPLET D'INSTALLATION

## ğŸ¯ **CE QUE L'AUTRE PERSONNE DOIT FAIRE CHEZ LUI**

### **1. ğŸ“¥ TÃ‰LÃ‰CHARGER LE PROJET**
```bash
# Ouvrir le terminal et taper :
git clone https://github.com/tonnom/Projet_Securite.git
cd Projet_Securite
```
*Remplacer "tonnom" par ton vrai nom GitHub*

### **2. ğŸ› ï¸ INSTALLER LES PROGRAMMES NÃ‰CESSAIRES**
```bash
# Dans le terminal, taper :
sudo apt-get update
sudo apt-get install softhsm2 opensc
```
**âš ï¸ IMPORTANT :**
- Ã‡a installe le **HSM logiciel** (SoftHSM)
- Ã‡a installe les **outils pour communiquer** avec le HSM
- **Mot de passe admin** peut Ãªtre demandÃ©

### **3. ğŸ INSTALLER LES BIBLIOTHÃˆQUES PYTHON**
```bash
pip install -r requirements.txt
```
**ğŸ“¦ Ã‡a installe :**
- **Flask** â†’ pour l'interface web
- **python-pkcs11** â†’ pour parler au HSM
- **cryptography** â†’ pour le chiffrement

### **4. ğŸ”§ CONFIGURER SON PROPRE HSM**
```bash
# CrÃ©er le dossier pour ranger les clÃ©s
mkdir tokens

# CrÃ©er le fichier de configuration
echo "directories.tokendir = $(pwd)/tokens" > softhsm2.conf

# CrÃ©er son coffre-fort personnel
SOFTHSM2_CONF=./softhsm2.conf softhsm2-util --init-token --slot 0 --label "MonHSM" --pin 1234 --so-pin 5678
```
**ğŸ” EXPLICATION :**
- `mkdir tokens` â†’ crÃ©e le **coffre-fort**
- `softhsm2.conf` â†’ **notice d'utilisation** du HSM
- `softhsm2-util` â†’ **fabrique le coffre** avec un code

### **5. ğŸš€ LANCER L'APPLICATION**
```bash
python main.py
```
**âœ… NORMALEMENT Ã‡A AFFICHE :**
```
âœ… HSM connectÃ©
* Running on http://127.0.0.1:5000
```

### **6. ğŸŒ OUVRIR L'INTERFACE**
- **Ouvrir Chrome/Firefox**
- **Taper** : `http://localhost:5000`
- **L'interface HSM** apparaÃ®t

## ğŸ® **COMMENT UTILISER L'INTERFACE**

### **Ã‰TAPE 1 - CRÃ‰ER LES CLÃ‰S**
1. **Cliquer** sur ğŸ—ï¸ **"GÃ©nÃ©rer les clÃ©s RSA"**
2. **Attendre** le message "ClÃ©s RSA gÃ©nÃ©rÃ©es avec succÃ¨s"
3. **âš ï¸ NE FAIRE QU'UNE FOIS**

### **Ã‰TAPE 2 - TESTER LA SIGNATURE**
1. **Ã‰crire** "Bonjour" dans la zone **Signature**
2. **Cliquer** sur âœï¸ **"Signer les donnÃ©es"**
3. **Copier** la longue signature qui apparaÃ®t
4. **Cliquer** sur âœ… **"VÃ©rifier signature"**
5. **Coller** la signature â†’ Doit dire "Signature VALIDE"

### **Ã‰TAPE 3 - TESTER LE CHIFFREMENT**
1. **Ã‰crire** "Mon secret" dans la zone **Chiffrement**
2. **Cliquer** sur ğŸ” **"Chiffrer les donnÃ©es"**
3. **Copier** le code secret qui apparaÃ®t
4. **Cliquer** sur ğŸ”“ **"DÃ©chiffrer donnÃ©es"**
5. **Coller** le code secret â†’ Doit afficher "Mon secret"

## ğŸ†˜ **PROBLÃˆMES COURANTS ET SOLUTIONS**

### **âŒ "HSM non connectÃ©"**
```bash
# VÃ©rifier que SoftHSM est installÃ©
softhsm2-util --show-slots

# Si erreur, rÃ©installer
sudo apt-get install --reinstall softhsm2
```

### **âŒ "Module not found"**
```bash
# RÃ©installer les bibliothÃ¨ques Python
pip install --force-reinstall -r requirements.txt
```

### **âŒ "Pin incorrect"**
```bash
# RecrÃ©er le token avec le bon PIN
SOFTHSM2_CONF=./softhsm2.conf softhsm2-util --delete-token --token "MonHSM"
SOFTHSM2_CONF=./softhsm2.conf softhsm2-util --init-token --slot 0 --label "MonHSM" --pin 1234 --so-pin 5678
```

### **âŒ "Port 5000 dÃ©jÃ  utilisÃ©"**
```bash
# Tuer l'ancien processus
pkill -f "python main.py"

# Ou changer le port dans main.py
app.run(debug=True, host='0.0.0.0', port=5001)
```

## ğŸ’¡ **ASTUCES IMPORTANTES**

### **ğŸ”„ POUR REDÃ‰MARRER**
```bash
# ArrÃªter : Ctrl+C dans le terminal
# Relancer : python main.py
# Pas besoin de regÃ©nÃ©rer les clÃ©s Ã  chaque fois !
```

### **ğŸ” POUR VOIR LES CLÃ‰S**
```bash
SOFTHSM2_CONF=./softhsm2.conf pkcs11-tool --module /usr/lib/softhsm/libsofthsm2.so --login --pin 1234 --list-objects
```

### **ğŸ§¹ POUR TOUT EFFACER**
```bash
# Supprimer le token
SOFTHSM2_CONF=./softhsm2.conf softhsm2-util --delete-token --token "MonHSM"

# Supprimer les fichiers
rm -rf tokens/ softhsm2.conf

# Puis recommencer Ã  l'Ã©tape 4
```

## âœ… **QUAND TOUT MARCHE**
- âœ… **Interface web** fonctionne
- âœ… **Signature** â†’ crÃ©ation et vÃ©rification OK
- âœ… **Chiffrement** â†’ chiffrement et dÃ©chiffrement OK
- âœ… **Performances** â†’ temps d'exÃ©cution affichÃ©s

**ğŸ‰ FÃ‰LICITATIONS ! Ton HSM personnel est opÃ©rationnel !**

---
**â±ï¸ TEMPS ESTIMÃ‰ :** 10-15 minutes pour tout installer et tester
**ğŸ“¶ DIFFICULTÃ‰ :** DÃ©butant (instructions Ã©tape par Ã©tape)
**ğŸ›¡ï¸ SÃ‰CURITÃ‰ :** ClÃ©s protÃ©gÃ©es dans le HSM